<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LaluLintasKu</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url('https://source.unsplash.com/1600x900/?traffic,road') no-repeat center center fixed;
      background-size: cover;
    }
    header {
      background-color: green;
      color: white;
      text-align: center;
      padding: 15px;
      font-size: 22px;
      position: relative;
    }
    .menu-btn {
      position: absolute;
      left: 15px;
      top: 15px;
      font-size: 24px;
      cursor: pointer;
    }

    /* Sidebar */
    .sidebar {
      height: 100%;
      width: 0;
      position: fixed;
      top: 0;
      left: 0;
      background-color: rgba(0,0,0,0.6);
      overflow-x: hidden;
      transition: 0.3s;
      padding-top: 60px;
    }
    .sidebar a {
      padding: 10px 20px;
      text-decoration: none;
      font-size: 20px;
      color: white;
      display: block;
      transition: 0.2s;
    }
    .sidebar a:hover {
      background-color: rgba(255,255,255,0.2);
    }

    .content {
      padding: 20px;
      text-align: center;
      color: white;
    }

    .hidden { display: none; }

    select, button {
      padding: 8px;
      margin: 5px;
      border-radius: 5px;
    }

    .box {
      background: rgba(0,0,0,0.5);
      padding: 20px;
      margin: 15px auto;
      border-radius: 10px;
      max-width: 500px;
    }
  </style>
</head>
<body>
  <header>
    <span class="menu-btn" onclick="openSidebar()">‚ò∞</span>
    üö¶ LaluLintasKu
  </header>

  <!-- Sidebar -->
  <div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" onclick="closeSidebar()">‚úñ Tutup</a>
    <a href="#" onclick="showSection('laporan')">Laporan</a>
    <a href="#" onclick="showSection('statistik')">Statistik</a>
    <a href="#" onclick="showSection('aman')">Cara Mengemudi dengan Aman</a>
    <a href="#" onclick="showSection('login')">Login</a>
  </div>

  <!-- Konten -->
  <div class="content">
    <div id="home" class="box">
      <h2>Selamat Datang di LaluLintasKu üöó</h2>
      <p>Pilih menu di pojok kiri atas untuk mulai.</p>
    </div>

    <!-- Form laporan -->
    <div id="laporan" class="box hidden">
      <h3>Kirim Laporan Lalu Lintas</h3>
      <div>
        <label>Pilih Provinsi:</label><br>
        <select id="provinsi" onchange="tampilKota()">
          <option value="">-- Pilih Provinsi --</option>
          <option value="jatim">Jawa Timur</option>
        </select>
      </div>

      <div id="kotaBox" class="hidden">
        <label>Pilih Kota:</label><br>
        <select id="kota" onchange="tampilDaerah()">
          <option value="">-- Pilih Kota --</option>
          <option value="banyuwangi">Banyuwangi</option>
          <option value="surabaya">Surabaya</option>
          <option value="sidoarjo">Sidoarjo</option>
        </select>
      </div>

      <div id="daerahBox" class="hidden">
        <label>Pilih Daerah:</label><br>
        <select id="daerah">
          <option value="">-- Pilih Daerah --</option>
        </select>
      </div>

      <div id="statusBox" class="hidden">
        <label>Status Lalu Lintas:</label><br>
        <select id="status">
          <option value="padat">Padat</option>
          <option value="lancar">Lancar</option>
          <option value="macet">Macet</option>
        </select><br>
        <button onclick="kirimLaporan()">Kirim Laporan</button>
      </div>
    </div>

    <!-- Statistik -->
    <div id="statistik" class="box hidden">
      <h3>Statistik Laporan</h3>
      <p id="statData">Belum ada laporan üöß</p>
    </div>

    <!-- Cara aman -->
    <div id="aman" class="box hidden">
      <h3>Cara Mengemudi dengan Aman üõ°Ô∏è</h3>
      <ul style="text-align:left">
        <li>Gunakan helm atau sabuk pengaman.</li>
        <li>Patuhi rambu-rambu lalu lintas.</li>
        <li>Jaga jarak aman dengan kendaraan depan.</li>
        <li>Jangan gunakan ponsel saat berkendara.</li>
        <li>Hindari ngebut di jalan ramai.</li>
      </ul>
    </div>

    <!-- Login (dummy) -->
    <div id="login" class="box hidden">
      <h3>Login</h3>
      <p>Untuk demo, login otomatis berhasil ‚úÖ</p>
    </div>
  </div>

  <script>
    // Sidebar control
    function openSidebar() {
      document.getElementById("mySidebar").style.width = "250px";
    }
    function closeSidebar() {
      document.getElementById("mySidebar").style.width = "0";
    }

    // Show section
    function showSection(id) {
      document.querySelectorAll(".box").forEach(el => el.classList.add("hidden"));
      document.getElementById(id).classList.remove("hidden");
      closeSidebar();
    }

    // Data daerah
    const daerahData = {
      banyuwangi: ["Genteng", "Rogojampi", "Cluring", "Kalibaru"],
      surabaya: ["Genteng", "Wonokromo", "Rungkut", "Tandes", "Sukolilo"],
      sidoarjo: ["Krian", "Waru", "Buduran", "Porong", "Candi"]
    };

    // Form logic
    function tampilKota() {
      if (document.getElementById("provinsi").value === "jatim") {
        document.getElementById("kotaBox").classList.remove("hidden");
      }
    }

    function tampilDaerah() {
      let kota = document.getElementById("kota").value;
      let daerahBox = document.getElementById("daerah");
      daerahBox.innerHTML = "<option value=''>-- Pilih Daerah --</option>";
      if (daerahData[kota]) {
        daerahData[kota].forEach(d => {
          let opt = document.createElement("option");
          opt.value = d;
          opt.textContent = d;
          daerahBox.appendChild(opt);
        });
        document.getElementById("daerahBox").classList.remove("hidden");
        document.getElementById("statusBox").classList.remove("hidden");
      }
    }

    // Simpan laporan
    let laporan = [];
    function kirimLaporan() {
      let prov = document.getElementById("provinsi").value;
      let kota = document.getElementById("kota").value;
      let daerah = document.getElementById("daerah").value;
      let status = document.getElementById("status").value;

      if (!prov || !kota || !daerah) {
        alert("Mohon lengkapi data laporan.");
        return;
      }

      laporan.push({ prov, kota, daerah, status });
      alert("Laporan terkirim ‚úÖ");
      updateStatistik();
    }

    function updateStatistik() {
      if (laporan.length === 0) {
        document.getElementById("statData").textContent = "Belum ada laporan üöß";
        return;
      }
      let count = {};
      laporan.forEach(l => {
        count[l.status] = (count[l.status] || 0) + 1;
      });
      let hasil = "Total laporan: " + laporan.length + "<br>";
      for (let s in count) {
        hasil += `${s}: ${count[s]} laporan<br>`;
      }
      document.getElementById("statData").innerHTML = hasil;
    }
  </script>
</body>
</html>
