<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Laporan Lalu Lintas</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    select, button { margin: 10px 0; padding: 5px; }
    .hasil { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Laporan Lalu Lintas Real-Time</h2>
  
  <label>Provinsi:</label><br>
  <select id="provinsi" onchange="updateKota()">
    <option value="">-- Pilih Provinsi --</option>
    <option value="jatim">Jawa Timur</option>
  </select><br>

  <label>Kota/Kabupaten:</label><br>
  <select id="kota" onchange="updateDaerah()">
    <option value="">-- Pilih Kota/Kabupaten --</option>
  </select><br>

  <label>Daerah/Kecamatan:</label><br>
  <select id="daerah">
    <option value="">-- Pilih Daerah --</option>
  </select><br>

  <label>Kondisi Lalu Lintas:</label><br>
  <select id="status">
    <option value="Lancar">Lancar</option>
    <option value="Ramai">Ramai</option>
    <option value="Macet">Macet</option>
  </select><br>

  <button onclick="lapor()">Kirim Laporan</button>

  <div class="hasil" id="hasil"></div>

  <script>
    const dataWilayah = {
      "jatim": {
        "Banyuwangi": ["Genteng", "Rogojampi", "Glagah", "Kabupaten Kota"],
        "Surabaya": ["Genteng", "Wonokromo", "Rungkut", "Tandes", "Kenjeran"],
        "Sidoarjo": ["Krian", "Waru", "Buduran", "Porong", "Taman"]
      }
    };

    function updateKota() {
      let prov = document.getElementById("provinsi").value;
      let kota = document.getElementById("kota");
      kota.innerHTML = "<option value=''>-- Pilih Kota/Kabupaten --</option>";

      if (prov && dataWilayah[prov]) {
        Object.keys(dataWilayah[prov]).forEach(k => {
          kota.innerHTML += `<option value="${k}">${k}</option>`;
        });
      }
      document.getElementById("daerah").innerHTML = "<option value=''>-- Pilih Daerah --</option>";
    }

    function updateDaerah() {
      let prov = document.getElementById("provinsi").value;
      let kota = document.getElementById("kota").value;
      let daerah = document.getElementById("daerah");
      daerah.innerHTML = "<option value=''>-- Pilih Daerah --</option>";

      if (prov && kota && dataWilayah[prov][kota]) {
        dataWilayah[prov][kota].forEach(d => {
          daerah.innerHTML += `<option value="${d}">${d}</option>`;
        });
      }
    }

    function lapor() {
      let prov = document.getElementById("provinsi").value;
      let kota = document.getElementById("kota").value;
      let daerah = document.getElementById("daerah").value;
      let status = document.getElementById("status").value;

      if (!prov || !kota || !daerah) {
        document.getElementById("hasil").innerText = "❌ Lengkapi pilihan terlebih dahulu!";
        return;
      }

      document.getElementById("hasil").innerText =
        `Laporan terkirim: ${daerah}, ${kota}, Jawa Timur → Kondisi: ${status}`;
    }
  </script>
</body>
</html>
